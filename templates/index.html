<!DOCTYPE html>
<html>
  <head>
    <title>음성 인식 및 대화 시스템</title>
    <style>
      body {
        background-color: #f5f5f5;
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
      }

      #header {
        background-color: #0077c2;
        color: white;
        text-align: center;
        padding: 20px;
      }

      #content {
        width: 80%;
        margin: 50px auto;
        background-color: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      }

      h1 {
        font-size: 36px;
        margin-top: 0;
      }

      p {
        font-size: 18px;
        margin-top: 0;
      }

      button {
        background-color: #0077c2;
        color: white;
        border: none;
        border-radius: 5px;
        padding: 10px 20px;
        font-size: 18px;
        cursor: pointer;
      }

      button:hover {
        background-color: #005ca3;
      }

      span {
        font-size: 18px;
        font-weight: bold;
      }

      #result {
        color: #0077c2;
      }

      #response {
        color: #009900;
      }
    </style>
  </head>
  <body>
    <div id="header">
      <h1>음성 인식 및 대화 시스템</h1>
    </div>
    <div id="content">
      <p>아래 버튼을 누르면 음성 인식이 시작됩니다.</p>
      <button id="record-btn">음성 입력</button>
      <p>인식된 텍스트: <span id="result"></span></p>
      <p>OpenAI GPT-3의 응답: <span id="response"></span></p>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      $(function () {
        // 음성 입력 버튼 클릭 시
        $("#record-btn").on("click", function () {
          // 버튼 텍스트 변경
          $("#record-btn").text("음성 인식 중...");
          // 서버로 GET 요청 보냄
          $.get("/speech_to_text", function (data) {
            // 인식된 텍스트 표시
            $("#result").text(data);
            // OpenAI GPT-3 요청 보냄
            $.post("/get_openai_response", { text: data }, function (data) {
              // OpenAI GPT-3의 응답 표시
              $("#response").text(data);
              // 버튼 텍스트 원래대로 변경
              $("#record-btn").text("음성 입력");
            });
          });
        });
      });
    </script>
  </body>
</html>
